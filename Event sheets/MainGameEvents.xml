<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>MainGameEvents</name>
    <events>
        <variable constant="1" name="INSTANCE_NAME" sid="8263069236037638" static="0" type="text">&quot;default&quot;</variable>
        <variable constant="1" name="GAME_NAME" sid="7581878779398404" static="0" type="text">&quot;Chronoberry-EpicSunrise&quot;</variable>
        <variable constant="1" name="ROOM_NAME" sid="8509736839750727" static="0" type="text">&quot;main&quot;</variable>
        <variable constant="0" name="LevelEndStatus" sid="1112376278473827" static="0" type="text"></variable>
        <variable comment="The turret the user has currently selected" constant="0" name="TowerSelect" sid="6379256797545093" static="0" type="text">tower1</variable>
        <variable comment="Seconds interval between spawning a new enemy." constant="0" name="EnemySpawnTime" sid="6475113749160177" static="0" type="number">2</variable>
        <event-group collapsed="1" description="" sid="4910937020671933" title="Global">
            <sub-events>
                <event-block sid="56000430988418">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="1717754556626347" type="System" />
                    </conditions>
                    <actions>
                        <action id="0" name="Set text" sid="932629099172965" type="Health">
                            <param id="0" name="Text">&quot;Health: &quot;  &amp; Nexus.Health</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="7677858876070592">
                    <conditions>
                        <condition id="-6" name="Every X seconds" sid="5265586642070748" type="System">
                            <param id="0" name="Interval (seconds)">2.0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-11" name="Add to" sid="5315955766254186" type="Mana">
                            <param id="0" name="Instance variable">Mana</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-11" name="Add to" sid="7134359098673471" type="Lair">
                            <param id="0" name="Instance variable">Mana</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Set a loop to update our text and check our win/lose conditions</comment>
            </sub-events>
        </event-group>
        <event-group collapsed="1" description="" sid="152918491606407" title="Turret control">
            <sub-events>
                <comment>Tell the turrets to target the enemies.</comment>
                <event-block sid="2920361286650912">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="8213731277183264" type="System" />
                    </conditions>
                    <actions>
                        <action behavior="Turret" id="1" name="Add object to target" sid="6826290388545864" type="Towers">
                            <param id="0" name="Target">Enemies</param>
                        </action>
                        <action id="1" name="Assign nickname" sid="7873777068798684" type="Nickname">
                            <param id="0" name="Nickname">&quot;tower1&quot;</param>
                            <param id="1" name="Object">Tower1</param>
                        </action>
                        <action id="1" name="Assign nickname" sid="854588030155696" type="Nickname">
                            <param id="0" name="Nickname">&quot;towerOdin&quot;</param>
                            <param id="1" name="Object">TowerOdin</param>
                        </action>
                    </actions>
                </event-block>
                <comment>When shooting, spawn a bullet.</comment>
                <event-block sid="6578484286418145">
                    <conditions>
                        <condition behavior="Turret" id="1" name="On shoot" sid="5795489391581771" type="Towers" />
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="2197932078139302" type="Towers">
                            <param id="0" name="Object">TowerBullet</param>
                            <param id="1" name="Layer">&quot;Game&quot;</param>
                            <param id="2" name="Image point">1</param>
                        </action>
                        <action id="3" name="Start" sid="7223984332466016" type="Towers">
                            <param id="0" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <comment>To prevent bullets that miss flying across the whole screen, destroy them when they&apos;ve travelled out of range.</comment>
                <event-block sid="1908719475020233">
                    <conditions>
                        <condition behavior="Bullet" id="1" name="Compare distance travelled" sid="1278368426411924" type="TowerOdinBullet">
                            <param id="0" name="Comparison">5</param>
                            <param id="1" name="Distance">100</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="808885931806389" type="TowerOdinBullet" />
                    </actions>
                </event-block>
                <event-block sid="6759520405915428">
                    <conditions>
                        <condition behavior="Bullet" id="1" name="Compare distance travelled" sid="949391682968056" type="TowerBullet">
                            <param id="0" name="Comparison">5</param>
                            <param id="1" name="Distance">100</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="8518059817914135" type="TowerBullet" />
                    </actions>
                </event-block>
                <comment>Create new turrets by touching the walls.</comment>
                <event-block sid="4287074495449406">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="9794911163540107" type="Towers">
                            <param id="0" name="Object">Towers</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="2548119708975916" type="Towers" />
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="This is how you play the tower cards" sid="5672389924595487" title="Card Deployment">
            <sub-events>
                <event-block sid="7272489924294161">
                    <conditions>
                        <condition behavior="DragDrop" id="1" name="On drag start" sid="5863215678642962" type="Cards" />
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="1203026147357262" type="System">
                            <param id="0" name="Variable">TowerSelect</param>
                            <param id="1" name="Value">Cards.TowerName</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="6866381216782405">
                    <conditions>
                        <condition behavior="DragDrop" id="2" name="On drop" sid="9880589715695336" type="Cards" />
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="5950341546299447">
                            <conditions>
                                <condition id="1" name="Is overlapping another object" sid="4047660233585028" type="Cards">
                                    <param id="0" name="Object">GridBackground</param>
                                </condition>
                                <condition id="-7" name="Compare instance variable" sid="6477478584341059" type="Mana">
                                    <param id="0" name="Instance variable">Mana</param>
                                    <param id="1" name="Comparison">5</param>
                                    <param id="2" name="Value">Cards.ManaCost</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="2" name="Create instance" sid="6944607571843406" type="Nickname">
                                    <param id="0" name="Nickname">TowerSelect</param>
                                    <param id="1" name="X">round((Cards.X - 32) / 64) * 64 + 64</param>
                                    <param id="2" name="Y">round((Cards.Y - 32) / 64) * 64  + 32</param>
                                    <param id="3" name="Layer">&quot;Game&quot;</param>
                                </action>
                                <action behavior="Fade" id="1" name="Start fade" sid="9584355010103752" type="Cards" />
                                <action id="-12" name="Subtract from" sid="7703688510261204" type="Mana">
                                    <param id="0" name="Instance variable">Mana</param>
                                    <param id="1" name="Value">Cards.ManaCost</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="6358118600662658">
                    <conditions>
                        <condition id="4" name="Is touching object" sid="4968681839730482" type="Touch">
                            <param id="0" name="Object">DeckImage</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="3202780106451121">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="8299067991750784" type="Mana">
                                    <param id="0" name="Instance variable">Mana</param>
                                    <param id="1" name="Comparison">5</param>
                                    <param id="2" name="Value">3</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-3" name="Create object" sid="6392867795978916" type="System">
                                    <param id="0" name="Object to create">Cards</param>
                                    <param id="1" name="Layer">&quot;Game&quot;</param>
                                    <param id="2" name="X">64 * gHandSize * 2</param>
                                    <param id="3" name="Y">512</param>
                                </action>
                                <action id="-12" name="Subtract from" sid="5300004871284363" type="Mana">
                                    <param id="0" name="Instance variable">Mana</param>
                                    <param id="1" name="Value">2</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="1895770900113535" title="Multiplayer Setup">
            <sub-events>
                <event-block sid="5047235259880581">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="9043125860805483" type="System" />
                        <condition id="7" inverted="1" name="Is connected" sid="6865487705433473" type="Multiplayer" />
                    </conditions>
                    <actions>
                        <action id="11" name="Sync object" sid="593622381784258" type="Multiplayer">
                            <param id="0" name="Object">Towers</param>
                            <param id="1" name="Data">3</param>
                            <param id="2" name="Precision">1</param>
                            <param id="3" name="Bandwidth">1</param>
                        </action>
                        <action id="11" name="Sync object" sid="6615008274162492" type="Multiplayer">
                            <param id="0" name="Object">Enemies</param>
                            <param id="1" name="Data">3</param>
                            <param id="2" name="Precision">1</param>
                            <param id="3" name="Bandwidth">1</param>
                        </action>
                        <action id="11" name="Sync object" sid="8892995317574027" type="Multiplayer">
                            <param id="0" name="Object">Cards</param>
                            <param id="1" name="Data">1</param>
                            <param id="2" name="Precision">1</param>
                            <param id="3" name="Bandwidth">1</param>
                        </action>
                        <action id="11" name="Sync object" sid="7016252399705048" type="Multiplayer">
                            <param id="0" name="Object">Nexus</param>
                            <param id="1" name="Data">1</param>
                            <param id="2" name="Precision">1</param>
                            <param id="3" name="Bandwidth">2</param>
                        </action>
                        <action id="11" name="Sync object" sid="8443637483128335" type="Multiplayer">
                            <param id="0" name="Object">Lair</param>
                            <param id="1" name="Data">1</param>
                            <param id="2" name="Precision">1</param>
                            <param id="3" name="Bandwidth">2</param>
                        </action>
                        <action id="12" name="Sync instance variable" sid="9073773907035879" type="Multiplayer">
                            <param id="0" name="Object">Nexus</param>
                            <param id="1" name="Instance variable">Nexus|Health</param>
                            <param id="2" name="Precision">1</param>
                            <param id="3" name="Interpolation">1</param>
                            <param id="4" name="Client value tag">&quot;NexusHealth&quot;</param>
                        </action>
                        <action id="12" name="Sync instance variable" sid="2058124719455571" type="Multiplayer">
                            <param id="0" name="Object">Lair</param>
                            <param id="1" name="Instance variable">Lair|Health</param>
                            <param id="2" name="Precision">1</param>
                            <param id="3" name="Interpolation">1</param>
                            <param id="4" name="Client value tag">&quot;LairHealth&quot;</param>
                        </action>
                        <action id="1" name="Connect" sid="329249651283753" type="Multiplayer">
                            <param id="0" name="Server">&quot;wss://multiplayer.scirra.com&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="6179914586450711">
                    <conditions>
                        <condition id="2" name="On connected" sid="7058802245530242" type="Multiplayer" />
                    </conditions>
                    <actions>
                        <action id="4" name="Log in" sid="2667818350247315" type="Multiplayer">
                            <param id="0" name="Alias">Username</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="6912623730915416">
                    <conditions>
                        <condition id="4" name="On logged in" sid="7770005590542793" type="Multiplayer" />
                    </conditions>
                    <actions>
                        <action id="5" name="Join room" sid="2757190371166678" type="Multiplayer">
                            <param id="0" name="Game">GAME_NAME</param>
                            <param id="1" name="Instance">INSTANCE_NAME</param>
                            <param id="2" name="Room">ROOM_NAME</param>
                            <param id="3" name="Max peers">10</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="594625024564966">
                    <conditions>
                        <condition id="5" name="On joined room" sid="1945299947151444" type="Multiplayer" />
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="7683276524760584">
                            <conditions>
                                <condition id="10" name="Is host" sid="3725165218094677" type="Multiplayer" />
                            </conditions>
                            <actions>
                                <action id="-12" name="Set group active" sid="9055902872331318" type="System">
                                    <param id="0" name="Group name">&quot;Host Controls&quot;</param>
                                    <param id="1" name="State">1</param>
                                </action>
                                <action id="13" name="Associate object with peer" sid="6725909621047672" type="Multiplayer">
                                    <param id="0" name="Object">Cards</param>
                                    <param id="1" name="Peer ID">Multiplayer.MyID</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="967302100568207">
                            <conditions>
                                <condition id="-22" name="Else" sid="4759688087644813" type="System" />
                            </conditions>
                            <actions>
                                <action id="-12" name="Set group active" sid="9027525700515567" type="System">
                                    <param id="0" name="Group name">&quot;Ally Controls&quot;</param>
                                    <param id="1" name="State">1</param>
                                </action>
                                <action id="-9" name="Destroy" sid="6782411603753331" type="Nexus" />
                                <action id="-9" name="Destroy" sid="765744921806271" type="Lair" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="9593361770267241" title="Endgame Conditions">
            <sub-events>
                <event-block sid="5389525662328113">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="9319683834519676" type="Nexus">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">3</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-14" name="Compare variable" sid="8321343218754318" type="System">
                            <param id="0" name="Variable">LevelEndStatus</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="9" name="Broadcast message" sid="1480109855925731" type="Multiplayer">
                            <param id="0" name="From ID">Multiplayer.FromID</param>
                            <param id="1" name="Tag">&quot;Defeat&quot;</param>
                            <param id="2" name="Message">&quot;Defeat&quot;</param>
                            <param id="3" name="Mode">1</param>
                        </action>
                        <action id="-3" name="Create object" sid="3939760149812482" type="System">
                            <param id="0" name="Object to create">Defeat</param>
                            <param id="1" name="Layer">&quot;UI&quot;</param>
                            <param id="2" name="X">LayoutWidth/2</param>
                            <param id="3" name="Y">LayoutHeight/2</param>
                        </action>
                        <action id="-9" name="Set value" sid="4269765224593753" type="System">
                            <param id="0" name="Variable">LevelEndStatus</param>
                            <param id="1" name="Value">&quot;Defeat&quot;</param>
                        </action>
                        <action id="-9" name="Destroy" sid="3492914726687208" type="Nexus" />
                        <action id="-3" name="Create object" sid="7009886749067543" type="System">
                            <param id="0" name="Object to create">PlayAgain</param>
                            <param id="1" name="Layer">&quot;UI&quot;</param>
                            <param id="2" name="X">LayoutWidth/2-PlayAgain.Width/2</param>
                            <param id="3" name="Y">LayoutHeight/2-PlayAgain.Height/2+150</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="2114152025189955">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="9500961419893854" type="Lair">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">3</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-14" name="Compare variable" sid="8715693755599468" type="System">
                            <param id="0" name="Variable">LevelEndStatus</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="9" name="Broadcast message" sid="6270244921051296" type="Multiplayer">
                            <param id="0" name="From ID">Multiplayer.FromID</param>
                            <param id="1" name="Tag">&quot;Victory&quot;</param>
                            <param id="2" name="Message">&quot;Victory&quot;</param>
                            <param id="3" name="Mode">1</param>
                        </action>
                        <action id="-3" name="Create object" sid="9164960995104554" type="System">
                            <param id="0" name="Object to create">Victory</param>
                            <param id="1" name="Layer">&quot;UI&quot;</param>
                            <param id="2" name="X">LayoutWidth/2</param>
                            <param id="3" name="Y">LayoutHeight/2</param>
                        </action>
                        <action id="-9" name="Set value" sid="8271567269695418" type="System">
                            <param id="0" name="Variable">LevelEndStatus</param>
                            <param id="1" name="Value">&quot;Victory&quot;</param>
                        </action>
                        <action id="-9" name="Destroy" sid="8328415492531915" type="Lair" />
                        <action id="-3" name="Create object" sid="3151352662591252" type="System">
                            <param id="0" name="Object to create">PlayAgain</param>
                            <param id="1" name="Layer">&quot;UI&quot;</param>
                            <param id="2" name="X">LayoutWidth/2-PlayAgain.Width/2</param>
                            <param id="3" name="Y">LayoutHeight/2-PlayAgain.Height/2+150</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="9613413846527504">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="6102989464673986" type="System" />
                    </conditions>
                    <actions>
                        <action id="0" name="Set text" sid="7326356552826192" type="Health">
                            <param id="0" name="Text">&quot;Health : &quot; &amp; Nexus.Health</param>
                        </action>
                        <action id="0" name="Set text" sid="8477721313089929" type="Mana">
                            <param id="0" name="Text">&quot;Mana: &quot; &amp; Mana.Mana</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="9048292853746229">
                    <conditions>
                        <condition id="0" name="On clicked" sid="158288974913509" type="PlayAgain" />
                    </conditions>
                    <actions>
                        <action id="9" name="Broadcast message" sid="1625471204192478" type="Multiplayer">
                            <param id="0" name="From ID">Multiplayer.FromID</param>
                            <param id="1" name="Tag">&quot;Restart&quot;</param>
                            <param id="2" name="Message">&quot;Restart&quot;</param>
                            <param id="3" name="Mode">0</param>
                        </action>
                        <action id="-9" name="Set value" sid="3159673348228025" type="System">
                            <param id="0" name="Variable">LevelEndStatus</param>
                            <param id="1" name="Value">&quot;&quot;</param>
                        </action>
                        <action id="-2" name="Go to layout" sid="1689889981834645" type="System">
                            <param id="0" name="Layout">MainGame</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" inactive="1" sid="9545034405581386" title="Host Controls">
            <sub-events>
                <event-group description="" sid="7435193017635269" title="Lair Control">
                    <sub-events>
                        <event-block collapsed="1" sid="3762954102660001">
                            <conditions>
                                <condition id="-6" name="Every X seconds" sid="8505455941718818" type="System">
                                    <param id="0" name="Interval (seconds)">EnemySpawnTime</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <comment>Every time an enemy spawn, the spawn interval reduces slightly.  This makes them very gradually come faster!  Make sure it doesn&apos;t go below every 0.5 seconds though.</comment>
                                <event-block sid="3811749441163612">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="8142076536884116" type="System">
                                            <param id="0" name="Variable">EnemySpawnTime</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Value">0.5</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-11" name="Subtract from" sid="7782623380689833" type="System">
                                            <param id="0" name="Variable">EnemySpawnTime</param>
                                            <param id="1" name="Value">0.01</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="1832309412571278">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="9403852907279757" type="Lair">
                                            <param id="0" name="Instance variable">Mana</param>
                                            <param id="1" name="Comparison">5</param>
                                            <param id="2" name="Value">Enemies.ManaCost</param>
                                        </condition>
                                        <condition id="1" inverted="1" name="Is overlapping another object" sid="1798210250618697" type="Spawnbox">
                                            <param id="0" name="Object">Enemies</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Spawn another object" sid="6525767773435702" type="Lair">
                                            <param id="0" name="Object">Enemies</param>
                                            <param id="1" name="Layer">&quot;Game&quot;</param>
                                            <param id="2" name="Image point">0</param>
                                        </action>
                                        <action id="-12" name="Subtract from" sid="2121904786830861" type="Lair">
                                            <param id="0" name="Instance variable">Mana</param>
                                            <param id="1" name="Value">Enemies.ManaCost</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="1912897602988224" title="Enemy control">
                    <sub-events>
                        <event-block sid="7919657993306624">
                            <conditions>
                                <condition id="-1" name="Every tick" sid="2591297902344835" type="System" />
                            </conditions>
                            <actions>
                                <action behavior="Pathfinding" id="4" name="Regenerate obstacle map" sid="9770475659724169" type="Enemies" />
                                <action behavior="Pathfinding" id="5" name="Add obstacle" sid="2342165491577256" type="Enemies">
                                    <param id="0" name="Obstacle">Towers</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="5807794928573664">
                            <conditions>
                                <condition id="-18" name="On created" sid="2177207508915771" type="Enemies" />
                            </conditions>
                            <actions>
                                <action behavior="Pathfinding" id="0" name="Find path" sid="1396814795242966" type="Enemies">
                                    <param id="0" name="X">Nexus.X</param>
                                    <param id="1" name="Y">Nexus.Y</param>
                                </action>
                            </actions>
                        </event-block>
                        <comment>Once a path has been found, start moving along it.</comment>
                        <event-block sid="4832788517579924">
                            <conditions>
                                <condition behavior="Pathfinding" id="0" name="On path found" sid="4597891180143728" type="Enemies" />
                            </conditions>
                            <actions>
                                <action behavior="Pathfinding" id="1" name="Move along path" sid="274791569236736" type="Enemies" />
                            </actions>
                        </event-block>
                        <comment>When bullets hit enemies, make it subtract from health and spawn some particles.</comment>
                        <event-block sid="3757760960324017">
                            <conditions>
                                <condition id="0" name="On collision with another object" sid="2324439540611691" type="TowerBullet">
                                    <param id="0" name="Object">Enemies</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-12" name="Subtract from" sid="2424479107563435" type="Enemies">
                                    <param id="0" name="Instance variable">Health</param>
                                    <param id="1" name="Value">TowerBullet.Damage</param>
                                </action>
                                <action id="-9" name="Destroy" sid="5899583099657957" type="TowerBullet" />
                                <action id="0" name="Spawn another object" sid="3388602188449933" type="TowerBullet">
                                    <param id="0" name="Object">BulletImpactParticles</param>
                                    <param id="1" name="Layer">&quot;Game&quot;</param>
                                    <param id="2" name="Image point">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="6364883664631782">
                            <conditions>
                                <condition id="0" name="On collision with another object" sid="7622045509978856" type="TowerOdinBullet">
                                    <param id="0" name="Object">Enemies</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-12" name="Subtract from" sid="8153350665888441" type="Enemies">
                                    <param id="0" name="Instance variable">Health</param>
                                    <param id="1" name="Value">TowerOdinBullet.Damage</param>
                                </action>
                                <action id="-9" name="Destroy" sid="7423431685140989" type="TowerBullet" />
                                <action id="0" name="Spawn another object" sid="2532264154729911" type="TowerBullet">
                                    <param id="0" name="Object">BulletImpactParticles</param>
                                    <param id="1" name="Layer">&quot;Game&quot;</param>
                                    <param id="2" name="Image point">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <comment>Destroy enemies with no health left, throwing in a particles effect.</comment>
                        <event-block sid="7368516189828693">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="3246318281038546" type="Enemies">
                                    <param id="0" name="Instance variable">Health</param>
                                    <param id="1" name="Comparison">3</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Spawn another object" sid="4667924870463321" type="Enemies">
                                    <param id="0" name="Object">EnemyDeadParticles</param>
                                    <param id="1" name="Layer">&quot;Game&quot;</param>
                                    <param id="2" name="Image point">0</param>
                                </action>
                                <action id="-9" name="Destroy" sid="8992076207642883" type="Enemies" />
                                <action id="-12" name="Subtract from" sid="6214782843102849" type="Lair">
                                    <param id="0" name="Instance variable">Health</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <comment>When an enemy reaches the target, destroy it</comment>
                        <event-block sid="2735644090319776">
                            <conditions>
                                <condition id="0" name="On collision with another object" sid="3701222411679042" type="Enemies">
                                    <param id="0" name="Object">Nexus</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="3041642669257395" type="Enemies" />
                            </actions>
                            <sub-events>
                                <event-block sid="7249863221950828">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="2190367063595382" type="Nexus">
                                            <param id="0" name="Instance variable">Health</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-12" name="Subtract from" sid="4535005745480013" type="Nexus">
                                            <param id="0" name="Instance variable">Health</param>
                                            <param id="1" name="Value">Enemies.Damage</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="6557382573573599">
                            <conditions>
                                <condition behavior="Pathfinding" id="1" name="On failed to find path" sid="8021990082027965" type="Enemies" />
                            </conditions>
                            <actions>
                                <action behavior="Pathfinding" id="0" name="Find path" sid="8461973136088598" type="Enemies">
                                    <param id="0" name="X">Nexus.X</param>
                                    <param id="1" name="Y">Nexus.Y</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
            </sub-events>
        </event-group>
        <event-group description="" inactive="1" sid="9988537701931421" title="Ally Controls">
            <sub-events>
                <event-block sid="5463145454801689">
                    <conditions>
                        <condition id="15" name="On peer message" sid="6421624617367471" type="Multiplayer">
                            <param id="0" name="Tag">&quot;Defeat&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-3" name="Create object" sid="5419837117548648" type="System">
                            <param id="0" name="Object to create">Defeat</param>
                            <param id="1" name="Layer">&quot;UI&quot;</param>
                            <param id="2" name="X">LayoutWidth/2</param>
                            <param id="3" name="Y">LayoutHeight/2</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="7436449604989093">
                    <conditions>
                        <condition id="15" name="On peer message" sid="1743494901886235" type="Multiplayer">
                            <param id="0" name="Tag">&quot;Victory&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-3" name="Create object" sid="9190521286768966" type="System">
                            <param id="0" name="Object to create">Victory</param>
                            <param id="1" name="Layer">&quot;UI&quot;</param>
                            <param id="2" name="X">LayoutWidth/2</param>
                            <param id="3" name="Y">LayoutHeight/2</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="7373905577184035">
                    <conditions>
                        <condition id="15" name="On peer message" sid="2060650312825505" type="Multiplayer">
                            <param id="0" name="Tag">&quot;Restart&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-2" name="Go to layout" sid="711545398857223" type="System">
                            <param id="0" name="Layout">MainGame</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="6359498031622163">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="3743032823852521" type="System" />
                    </conditions>
                    <actions>
                        <action id="-26" name="Move to layer" sid="6549351642304756" type="Enemies">
                            <param id="0" name="Layer">&quot;Game&quot;</param>
                        </action>
                        <action id="-26" name="Move to layer" sid="8259338494979054" type="Cards">
                            <param id="0" name="Layer">&quot;Game&quot;</param>
                        </action>
                        <action id="-26" name="Move to layer" sid="3899978223515076" type="Towers">
                            <param id="0" name="Layer">&quot;Game&quot;</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
